(this["webpackJsonpdaily-moments"]=this["webpackJsonpdaily-moments"]||[]).push([[1],{226:function(e,t,n){e.exports=n(433)},232:function(e,t,n){var a={"./ion-action-sheet.entry.js":[436,5],"./ion-alert.entry.js":[437,6],"./ion-app_8.entry.js":[438,7],"./ion-avatar_3.entry.js":[439,18],"./ion-back-button.entry.js":[440,19],"./ion-backdrop.entry.js":[441,43],"./ion-button_2.entry.js":[442,20],"./ion-card_5.entry.js":[443,21],"./ion-checkbox.entry.js":[444,22],"./ion-chip.entry.js":[445,23],"./ion-col_3.entry.js":[446,44],"./ion-datetime_3.entry.js":[447,10],"./ion-fab_3.entry.js":[448,24],"./ion-img.entry.js":[449,45],"./ion-infinite-scroll_2.entry.js":[450,46],"./ion-input.entry.js":[451,25],"./ion-item-option_3.entry.js":[452,26],"./ion-item_8.entry.js":[453,27],"./ion-loading.entry.js":[454,28],"./ion-menu_3.entry.js":[455,29],"./ion-modal.entry.js":[456,8],"./ion-nav_2.entry.js":[457,15],"./ion-popover.entry.js":[458,9],"./ion-progress-bar.entry.js":[459,30],"./ion-radio_2.entry.js":[460,31],"./ion-range.entry.js":[461,32],"./ion-refresher_2.entry.js":[462,11],"./ion-reorder_2.entry.js":[463,17],"./ion-ripple-effect.entry.js":[464,47],"./ion-route_4.entry.js":[465,33],"./ion-searchbar.entry.js":[466,34],"./ion-segment_2.entry.js":[467,35],"./ion-select_3.entry.js":[468,36],"./ion-slide_2.entry.js":[469,48],"./ion-spinner.entry.js":[470,13],"./ion-split-pane.entry.js":[471,49],"./ion-tab-bar_2.entry.js":[472,37],"./ion-tab_2.entry.js":[473,16],"./ion-text.entry.js":[474,38],"./ion-textarea.entry.js":[475,39],"./ion-toast.entry.js":[476,40],"./ion-toggle.entry.js":[477,12],"./ion-virtual-scroll.entry.js":[478,50]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=232,e.exports=r},234:function(e,t,n){var a={"./ion-icon.entry.js":[482,57]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return n.e(t[1]).then((function(){return n(r)}))}r.keys=function(){return Object.keys(a)},r.id=234,e.exports=r},243:function(e,t,n){},432:function(e,t,n){},433:function(e,t,n){"use strict";n.r(t);var a=n(193),r=n(1),l=n.n(r),c=n(51),o=n.n(c),i=n(3),s=n(181),u=n(24),m=n(15),d=n(183),E=(n(239),n(241),n(434),d.a.initializeApp({apiKey:"AIzaSyDgyDA7IiNAfBim9b-4Fc7molM9w7sviaA",authDomain:"daily-moments-cdd39.firebaseapp.com",databaseURL:"https://daily-moments-cdd39.firebaseio.com",projectId:"daily-moments-cdd39",storageBucket:"daily-moments-cdd39.appspot.com",messagingSenderId:"95524271115",appId:"1:95524271115:web:d511432a3d8f68ce2d830e"})),p=E.auth(),f=E.firestore(),g=E.storage(),b=l.a.createContext({loggedIn:!1});function y(){return Object(r.useContext)(b)}var h=n(14),j=n.n(h),v=n(22),O=(n(243),function(){var e=Object(r.useState)(""),t=Object(m.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),o=Object(m.a)(c,2),s=o[0],d=o[1],E=Object(r.useState)({loading:!1,error:!1}),f=Object(m.a)(E,2),g=f[0],b=f[1],h=Object(r.useState)({Err:""}),O=Object(m.a)(h,2),k=O[0],S=O[1],x=y().loggedIn,w=function(){var e=Object(v.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b({loading:!0,error:!1}),e.next=4,p.signInWithEmailAndPassword(n,s);case 4:t=e.sent,console.log("credential",t),e.next=14;break;case 8:e.prev=8,e.t0=e.catch(0),b({loading:!1,error:!0}),console.log("error: ",e.t0.message),S({Err:"".concat(e.t0.message)}),console.log("errorname: ",k.Err);case 14:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return x?l.a.createElement(u.a,{to:"/my/entries"}):l.a.createElement(i.u,null,l.a.createElement(i.i,{color:"light",fullscreen:!0},l.a.createElement(i.e,{className:"ionCardstyle"},l.a.createElement(i.g,null,l.a.createElement("img",{className:"imageSize",src:""}),l.a.createElement(i.h,{className:"centerText"},"Login")),l.a.createElement(i.f,null,l.a.createElement(i.s,null,l.a.createElement(i.q,null,l.a.createElement(i.p,{type:"email",value:n,onIonChange:function(e){return a(e.detail.value)},placeholder:"Email"})),l.a.createElement(i.q,null,l.a.createElement(i.p,{type:"password",value:s,onIonChange:function(e){return d(e.detail.value)},placeholder:"Password"}))),g.error&&l.a.createElement(i.B,{color:"danger"},k.Err),l.a.createElement(i.c,{expand:"block",onClick:w},"Login"),l.a.createElement(i.c,{expand:"block",fill:"clear",routerLink:"/register"},"Don't have an account?")))))}),k=n(20),S=n(184);function x(e){return Object(S.a)({id:e.id},e.data())}var w=n(42),C=n.n(w),I=function(){var e=y().userId,t=Object(r.useState)([]),n=Object(m.a)(t,2),a=n[0],c=n[1],o=Object(r.useState)(),s=Object(m.a)(o,2);s[0],s[1];Object(r.useEffect)((function(){var t=f.collection("users").doc(e).collection("entries");return console.log("You are in HomePage",t),t.orderBy("date","desc").limit(7).onSnapshot((function(e){var t=e.docs;return c(t.map(x))}))}),[]);return l.a.createElement(i.u,null,l.a.createElement(i.m,null,l.a.createElement(i.F,null,l.a.createElement(i.E,null,"HOME"))),l.a.createElement(i.i,{className:"ion-padding"},l.a.createElement(i.r,null,"hi! welcome to mangotime"),l.a.createElement(i.s,null,a.map((function(e){return l.a.createElement(i.q,{button:!0,key:e.id,routerLink:"/my/entry/".concat(e.id)},l.a.createElement(i.D,{slot:"end"},l.a.createElement(i.o,{src:e.pictureUrl})),l.a.createElement(i.r,null,l.a.createElement("h1",null," ",(t=e.date,C()(t).format("MMMM DD, YYYY"))),l.a.createElement("h2",null," ",e.title)));var t}))),l.a.createElement(i.k,{vertical:"bottom",horizontal:"end"},l.a.createElement(i.l,{routerLink:"/my/addentry/add"},l.a.createElement(i.n,{icon:k.a})))))},N=function(){return l.a.createElement(i.u,null,l.a.createElement(i.m,null,l.a.createElement(i.F,null,l.a.createElement(i.E,null,"Settings"))),l.a.createElement(i.i,{className:"ion-padding"},l.a.createElement(i.c,{color:"medium",expand:"block",onClick:function(){return p.signOut()}},"Logout")))},_=function(){var e,t=Object(u.g)().params.id,n=Object(r.useState)(),a=Object(m.a)(n,2),c=a[0],o=a[1],s=y().userId,d=Object(u.f)();return Object(r.useEffect)((function(){f.collection("users").doc(s).collection("entries").doc(t).get().then((function(e){o(x(e))}))}),[s,t]),l.a.createElement(i.u,null,l.a.createElement(i.m,null,l.a.createElement(i.F,null,l.a.createElement(i.d,{slot:"start"},l.a.createElement(i.b,null)),l.a.createElement(i.E,null," ",(e=null===c||void 0===c?void 0:c.date,C()(e).format("MMMM DD, YYYY"))),l.a.createElement(i.c,{slot:"end",onClick:function(){f.collection("users").doc(s).collection("entries").doc(t).delete(),d.goBack()},fill:"clear"},l.a.createElement(i.n,{icon:k.s})))),l.a.createElement(i.i,{className:"ion-padding"},l.a.createElement("h2",null,null===c||void 0===c?void 0:c.title),l.a.createElement("img",{src:null===c||void 0===c?void 0:c.pictureUrl,alt:null===c||void 0===c?void 0:c.title}),l.a.createElement("p",null,null===c||void 0===c?void 0:c.description)))};function D(e,t){return U.apply(this,arguments)}function U(){return(U=Object(v.a)(j.a.mark((function e(t,n){var a,r,l,c,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=g.ref("/users/".concat(n,"/pictures/").concat(Date.now())),e.next=3,fetch(t);case 3:return r=e.sent,e.next=6,r.blob();case 6:return l=e.sent,e.next=9,a.put(l);case 9:return c=e.sent,e.next=12,c.ref.getDownloadURL();case 12:return o=e.sent,e.abrupt("return",o);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T=function(){var e=y().userId,t=Object(r.useState)(""),n=Object(m.a)(t,2),a=n[0],c=n[1],o=Object(r.useState)((new Date).toISOString()),s=Object(m.a)(o,2),d=s[0],E=s[1],p=Object(r.useState)("/assets/placeholder.png"),g=Object(m.a)(p,2),b=g[0],h=g[1],O=Object(r.useState)(""),k=Object(m.a)(O,2),S=k[0],x=k[1],w=Object(u.f)(),C=Object(r.useRef)();Object(r.useEffect)((function(){return function(){b.startsWith("blob:")&&URL.revokeObjectURL(b)}}),[b]);var I=function(){var t=Object(v.a)(j.a.mark((function t(){var n,r,l;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=f.collection("users").doc(e).collection("entries"),r={date:d,title:a,pictureUrl:b,description:S},!b.startsWith("blob:")){t.next=6;break}return t.next=5,D(b,e);case 5:r.pictureUrl=t.sent;case 6:return t.next=8,n.add(r);case 8:l=t.sent,console.log("saved:",l.id),w.goBack();case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return l.a.createElement(i.u,null,l.a.createElement(i.m,null,l.a.createElement(i.F,null,l.a.createElement(i.d,{slot:"start"},l.a.createElement(i.b,null)),l.a.createElement(i.E,null,"Add Entry"))),l.a.createElement(i.i,{className:"ion-padding"},l.a.createElement(i.q,null,l.a.createElement(i.r,{position:"stacked"},"Title"),l.a.createElement(i.p,{type:"email",value:a,onIonChange:function(e){return c(e.detail.value)}})),l.a.createElement(i.q,null,l.a.createElement(i.r,{position:"stacked"}," Pictures "),l.a.createElement("br",null),l.a.createElement("input",{type:"file",accept:"image/*",hidden:!0,ref:C,onChange:function(e){if(e.target.files.length>0){var t=e.target.files.item(0),n=URL.createObjectURL(t);console.log("craeted URL:",n),h(n)}}}),l.a.createElement("img",{src:b,alt:"",style:{cursor:"pointer"},onClick:function(){return C.current.click()}})),l.a.createElement(i.q,null,l.a.createElement(i.r,{position:"stacked"},"Description"),l.a.createElement(i.C,{value:S,onIonChange:function(e){return x(e.detail.value)}})),l.a.createElement(i.q,null,l.a.createElement(i.r,{position:"stacked"},"Date"),l.a.createElement(i.j,{displayFormat:"MMMM DD, YYYY - hh:mmA",value:d,onIonChange:function(e){return E(e.detail.value)}})),l.a.createElement(i.c,{expand:"block",onClick:I},"Add Entry")))},A=n(74),M=n.n(A),L=function(){var e=Object(r.useState)(""),t=Object(m.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),o=Object(m.a)(c,2),s=o[0],d=o[1],E=y().userId,p=Object(r.useState)(""),g=Object(m.a)(p,2),b=g[0],h=g[1],j=Object(u.f)(),v=Object(r.useState)(!1),O=Object(m.a)(v,2),k=O[0],S=O[1],x=Object(r.useState)(""),w=Object(m.a)(x,2),I=w[0],N=w[1],_=Object(r.useState)(),D=Object(m.a)(_,2),U=D[0],T=D[1],A=function(){var e=C()(n),t=C()(s).diff(e),a=t/1e3;console.log(t/1e3,"Second"),N(a),console.log(a,"innnnnnnSecond"),T(a+U),console.log(U,"innnnnnnSecondTOTAL")},L=function(){A(),f.collection("users").doc(E).collection("entries").add({description:b,title:b,workedTime:I,date:new Date}),j.goBack(),S(!1)};return l.a.createElement(i.u,null,l.a.createElement(i.m,null,l.a.createElement(i.F,null,l.a.createElement(i.E,null,"MangoTracker"))),l.a.createElement(i.i,{className:"ion-padding"},l.a.createElement(i.e,null,l.a.createElement(i.g,null,l.a.createElement(i.B,null,"Stopwatch")),l.a.createElement(M.a,{formatValue:function(e){return"".concat(e<10?"0".concat(e):e)},initialTime:0,startImmediately:!1},(function(e){var t=e.start,n=e.pause,r=(e.stop,e.reset);return l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null," ",l.a.createElement(M.a.Hours,null),":",l.a.createElement(M.a.Minutes,null),":",l.a.createElement(M.a.Seconds,null)),l.a.createElement(i.f,null,l.a.createElement(i.c,{onClick:function(){t(),function(){var e=C()();console.log("Time In: ",e),a(e.toISOString())}()}},"Start"),l.a.createElement(i.c,{color:"danger",onClick:function(){n(),function(){var e=C()();console.log("Time Out: ",e),d(e.toISOString())}()}}," Stop "),l.a.createElement(i.c,{color:"secondary",onClick:function(){r(),A(),S(!0)}}," SaveTime ")))}))),l.a.createElement(i.v,{isOpen:k,cssClass:"conainer-of-Pop-Ups",onDidDismiss:function(e){return L()}},l.a.createElement("p",{className:"centerText"},"Congratulation!"),l.a.createElement("p",{className:"centerText"},"You spent working "),l.a.createElement(i.c,{className:"IonButtonRadius",expand:"block"}," View Report "))),l.a.createElement(i.r,{position:"stacked"},"What are you working on"),l.a.createElement(i.C,{value:b,onIonChange:function(e){return h(e.detail.value)}}))},P=n(12),Y=n(13),R=n(16),B=n(17),F=n(48),q=function(e){Object(R.a)(n,e);var t=Object(B.a)(n);function n(){var e;Object(P.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).data=[{name:"11 November 2020","Clocked In":1},{name:"12 Novermber 2020","Clocked In":5},{name:"13 November 2020","Clocked In":7},{name:"14 November 2020","Clocked In":3},{name:"15 November 2020","Clocked In":4}],e}return Object(Y.a)(n,[{key:"render",value:function(){return l.a.createElement(F.b,{width:1200,height:250,data:this.data,margin:{top:10,right:30,left:0,bottom:0}},l.a.createElement("defs",null,l.a.createElement("linearGradient",{id:"colorUv",x1:"0",y1:"0",x2:"0",y2:"1"},l.a.createElement("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.8}),l.a.createElement("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})),l.a.createElement("linearGradient",{id:"colorPv",x1:"0",y1:"0",x2:"0",y2:"1"},l.a.createElement("stop",{offset:"5%",stopColor:"#82ca9d",stopOpacity:.8}),l.a.createElement("stop",{offset:"95%",stopColor:"#82ca9d",stopOpacity:0}))),l.a.createElement(F.f,{dataKey:"name"}),l.a.createElement(F.g,null),l.a.createElement(F.c,{strokeDasharray:"3 3"}),l.a.createElement(F.e,null),l.a.createElement(F.d,null),l.a.createElement(F.a,{type:"monotone",dataKey:"Clocked In",stroke:"#8884d8",fillOpacity:1,fill:"url(#colorUv)"}))}}]),n}(l.a.Component);var z=function(){return l.a.createElement(i.u,null,l.a.createElement(i.m,null,l.a.createElement(i.F,null,l.a.createElement(i.d,{slot:"start"},l.a.createElement(i.b,null)),l.a.createElement(i.E,null,"Mango Chart"))),l.a.createElement(i.i,{className:"ion-padding"},l.a.createElement("h2",null,"Work Hours Gained"),l.a.createElement(q,null)))},W=function(){return y().loggedIn?l.a.createElement(i.A,null,l.a.createElement(i.x,null,l.a.createElement(u.b,{exact:!0,path:"/my/home"},l.a.createElement(I,null)),l.a.createElement(u.b,{exact:!0,path:"/my/entries"},l.a.createElement(I,null)),l.a.createElement(u.b,{path:"/my/entry/:id",component:_,exact:!0}),l.a.createElement(u.b,{path:"/my/addentry/add",component:T,exact:!0}),l.a.createElement(u.b,{path:"/my/setting",component:N},l.a.createElement(N,null)),l.a.createElement(u.b,{path:"/my/TimeTracker",component:L},l.a.createElement(L,null)),l.a.createElement(u.b,{path:"/my/progressreport",component:z},l.a.createElement(z,null)),l.a.createElement(u.b,{path:"/",render:function(){return l.a.createElement(u.a,{to:"/home"})},exact:!0})),l.a.createElement(i.y,{slot:"bottom"},l.a.createElement(i.z,{tab:"home",href:"/my/home"},l.a.createElement(i.n,{icon:k.j}),l.a.createElement(i.r,null,"Home")),l.a.createElement(i.z,{tab:"tab3",href:"/my/TimeTracker"},l.a.createElement(i.n,{icon:k.r}),l.a.createElement(i.r,null,"Tracker")),l.a.createElement(i.z,{tab:"tab4",href:"/my/addentry/add"},l.a.createElement(i.n,{icon:k.m}),l.a.createElement(i.r,null,"Add Entry")),l.a.createElement(i.z,{tab:"progressreport",href:"/my/progressreport"},l.a.createElement(i.n,{icon:k.i}),l.a.createElement(i.r,null,"Progress Report")))):l.a.createElement(u.a,{to:"/login"})},H=function(){return console.log("Rendering app with loggedIn=${loggedIn}"),l.a.createElement(i.u,null,l.a.createElement(i.i,{className:"ion-padding"},"Page not found."))},G=function(){var e=Object(r.useState)(""),t=Object(m.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),o=Object(m.a)(c,2),s=o[0],d=o[1],E=Object(r.useState)({loading:!1,error:!1}),f=Object(m.a)(E,2),g=f[0],b=f[1],h=function(){var e=Object(v.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b({loading:!0,error:!1}),e.next=4,p.createUserWithEmailAndPassword(n,s);case 4:t=e.sent,console.log("credential",t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),b({loading:!1,error:!0}),console.log("error: ",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return y().loggedIn?l.a.createElement(u.a,{to:"/my/entries"}):l.a.createElement(i.u,null,l.a.createElement(i.i,{color:"light",fullscreen:!0},l.a.createElement(i.e,{className:"ionCardstyle"},l.a.createElement(i.g,null,l.a.createElement("img",{className:"imageSize",src:""}),l.a.createElement(i.h,{className:"centerText"},"Sign Up")),l.a.createElement(i.f,null,l.a.createElement(i.s,null,l.a.createElement(i.q,null,l.a.createElement(i.r,{position:"stacked"},"Email"),l.a.createElement(i.p,{type:"email",value:n,onIonChange:function(e){return a(e.detail.value)},placeholder:"Email"})),l.a.createElement(i.q,null,l.a.createElement(i.r,{position:"stacked"},"Password"),l.a.createElement(i.p,{type:"password",value:s,onIonChange:function(e){return d(e.detail.value)},placeholder:"Password"}))),g.error&&l.a.createElement(i.B,{color:"danger"},"Registration Failed"),l.a.createElement(i.c,{expand:"block",onClick:h},"Sign Up"),l.a.createElement(i.c,{expand:"block",fill:"clear",routerLink:"/login"},"Already have an account?"),l.a.createElement(i.t,{isOpen:g.loading})))))};p.onAuthStateChanged((function(e){console.log("onAuthStateChanged:",e)}));var K=function(){var e=function(){var e=Object(r.useState)({loading:!0}),t=Object(m.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){return p.onAuthStateChanged((function(e){var t=e?{loggedIn:!0,userId:e.uid}:{loggedIn:!1};a({loading:!1,auth:t})}))}),[]),n}(),t=e.loading,n=e.auth;return console.log("rendering App with authState:",n),t?l.a.createElement(i.t,{isOpen:!0}):l.a.createElement(i.a,null,l.a.createElement(b.Provider,{value:n},l.a.createElement(s.a,null,l.a.createElement(u.d,null,l.a.createElement(u.b,{exact:!0,path:"/login"},l.a.createElement(O,null)),l.a.createElement(u.b,{exact:!0,path:"/register"},l.a.createElement(G,null)),l.a.createElement(u.b,{path:"/my"},l.a.createElement(W,null)),l.a.createElement(u.a,{exact:!0,path:"/",to:"/my/entries"}),l.a.createElement(u.b,null,l.a.createElement(H,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(422),n(423),n(424),n(425),n(426),n(427),n(428),n(429),n(430),n(431),n(432);var J=a.a.SplashScreen;o.a.render(l.a.createElement(K,null),document.getElementById("root")),J.hide(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[226,3,4]]]);
//# sourceMappingURL=main.f0dc18e8.chunk.js.map